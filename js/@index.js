/**********************************************************************
 require( 'require' )
 -----------------------------------------------------------------------
 @example

 var Path = require("node://path");  // Only in NodeJS/NW.js environment.
 var Button = require("tfw.button");

 **********************************************************************/

window.require = function() {
    var modules = {};
    var definitions = {};
    var nodejs_require = typeof window.require === 'function' ? window.require : null;

    var f = function(id, body) {
        if( id.substr( 0, 7 ) == 'node://' ) {
            // Calling for a NodeJS module.
            if( !nodejs_require ) {
                throw Error( "[require] NodeJS is not available to load module `" + id + "`!" );
            }
            return nodejs_require( id.substr( 7 ) );
        }

        if( typeof body === 'function' ) {
            definitions[id] = body;
            return;
        }
        var mod;
        body = definitions[id];
        if (typeof body === 'undefined') {
            var err = new Error("Required module is missing: " + id);   
            console.error(err.stack);
            throw err;
        }
        mod = modules[id];
        if (typeof mod === 'undefined') {
            mod = {exports: {}};
            var exports = mod.exports;
            body(f, mod, exports);
            modules[id] = mod.exports;
            mod = mod.exports;
            //console.log("Module initialized: " + id);
        }
        return mod;
    };
    return f;
}();
function addListener(e,l) {
    if (window.addEventListener) {
        window.addEventListener(e,l,false);
    } else {
        window.attachEvent('on' + e, l);
    }
};

addListener(
    'DOMContentLoaded',
    function() {
        document.body.parentNode.$data = {};
        // Attach controllers.
        APP = require('main');
setTimeout(function (){if(typeof APP.start==='function')APP.start()});
var W = require('x-widget');
        W('wdg.game10', 'wdg.game1', {
            width: "800",
            height: "600"},{"id":"wdg.game10"})

    }
);
require("$",function(r,t,n){n.config={name:'"tolo-fast-sprite"',description:'"Low-level versatile yet powerfull library to paint sprites on WebGL context"',author:'"tolokoban"',version:'"0.0.2"',major:"0",minor:"0",revision:"2",date:"2017-09-17T20:04:13.000Z",consts:{}};var o=null;n.lang=function(r){return void 0===r&&(window.localStorage&&(r=window.localStorage.getItem("Language")),r||(r=window.navigator.language)||(r=window.navigator.browserLanguage)||(r="fr"),r=r.substr(0,2).toLowerCase()),o=r,window.localStorage&&window.localStorage.setItem("Language",r),r},n.intl=function(r,t){var o,e,a,i,l,g,s,u=r[n.lang()],w=t[0];for(s in r)break;if(!s)return w;if(!u&&!(u=r[s]))return w;if(o=u[w],o||(u=r[s],o=u[w]),!o)return w;if(t.length>1){for(e="",l=0,a=0;a<o.length;a++)i=o.charAt(a),"$"===i?(e+=o.substring(l,a),a++,g=o.charCodeAt(a)-48,g<0||g>=t.length?e+="$"+o.charAt(a):e+=t[g],l=a+1):"\\"===i&&(e+=o.substring(l,a),a++,e+=o.charAt(a),l=a+1);e+=o.substr(l),o=e}return o}});
//# sourceMappingURL=$.js.map
require("wdg.game1",function(e,o,r){function t(e){var o=this._gl,r=this.resolution;s(o,r);var t=h("qbert1"),n=1/t.rows,c={col:t.hero.col,row:t.hero.row},i={col:t.hero.col,row:t.hero.row},u=0,p=l.call(this,o,t,e),v=this._cubes;w.set(c.col,c.row),p.z=.5-(c.row+.2)*n;var d=p.addCellXY(w.x,w.y-80,5,0);o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ZERO,o.ONE),o.enable(o.DEPTH_TEST),o.depthFunc(o.LEQUAL);var g=0,x=!1,m=function(e){if(requestAnimationFrame(m),0===g)return g=e,void(u=e);var l=e-g;g=e;var h=.3*l;f.R&&(p.centerX+=h),f.L&&(p.centerX-=h),f.D&&(p.centerY+=h),f.U&&(p.centerY-=h);var C=a(e,u,500),b=(1-C)*c.col+C*i.col,E=(1-C)*c.row+C*i.row;if(w.set(b,E),p.centerX=w.x,p.centerY=w.y,p.z=.5-(E+.2)*n,E-=.5*Math.sin(Math.PI*C),w.set(b,E),w.y-=80,p.updateXY(d,w.x,w.y,w.x+128,w.y,w.x+128,w.y+128,w.x,w.y+128),1===C){if(c.col=t.hero.col,c.row=t.hero.row,x){x=!1;var _=t.hero.col+","+t.hero.row,N=v[_];p.updateCell(N,t.transform(t.hero.col,t.hero.row),0)}f.NE&&t.canMoveNE()?(t.moveNE(),i.col=t.hero.col,i.row=t.hero.row,u=e,p.updateCell(d,6,0),x=!0):f.NW&&t.canMoveNW()?(t.moveNW(),i.col=t.hero.col,i.row=t.hero.row,u=e,p.updateCell(d,4,0),x=!0):f.SW&&t.canMoveSW()?(t.moveSW(),i.col=t.hero.col,i.row=t.hero.row,u=e,p.updateCell(d,7,0),x=!0):f.SE&&t.canMoveSE()&&(t.moveSE(),i.col=t.hero.col,i.row=t.hero.row,u=e,p.updateCell(d,5,0),x=!0)}s(o,r),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),p.paint(e)};requestAnimationFrame(m)}function l(e,o,r){var t,l,a,n,c=new u({gl:e,atlas:r,cellSrcW:1/8,cellSrcH:1/8,cellDstW:128,cellDstH:128}),i={},s=1/o.rows;for(l=o.rows-2;l>-1;l-=2){for(c.z=.5-(l+1)*s,t=1;t<o.cols;t+=2)(n=o.getValue(t,l+1))>-1&&(a=t+","+(l+1),w.set(t,l+1),i[a]=c.addCellXY(w.x,w.y,n,0));for(c.z=.5-l*s,t=0;t<o.cols;t+=2)(n=o.getValue(t,l))>-1&&(a=t+","+l,w.set(t,l),i[a]=c.addCellXY(w.x,w.y,n,0))}return w.set(o.hero.col,o.hero.row),c.centerX=w.x,c.centerY=w.y,this._cubes=i,c}function a(e,o,r){return r<1e-4?0:e<o?0:e>o+r?1:(e-o)/r}var n=function(){function o(){return t(r,arguments)}var r={en:{},fr:{}},t=e("$").intl;return o.all=r,o}();e("gfx");var c=e("dom"),i=e("tfw.data-binding"),s=e("webgl.resize"),h=e("wdg.game1.levels"),f=e("controls"),u=e("webgl.fast-sprite"),w={x:0,y:0,set:function(e,o){this.x=Math.floor(.5+64*e),this.y=Math.floor(.5+64*o)}},p=function(e){var o=c.elem(this,"canvas");console.info("Creation of context for WebGL 2.0");var r=o.getContext("webgl2",{alpha:!1,depth:!0,stencil:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,failIfPerformanceCaveat:!1});r||(console.warn("Fallback to WebGL 1.0"),r=o.getContext("webgl",{alpha:!1,depth:!0,stencil:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,failIfPerformanceCaveat:!1})),this._gl=r,i.propRemoveClass(this,"visible","hide"),i.prop(this,"width")(function(e){isNaN(parseInt(e))||(e+="px"),c.css(o,{width:e})}),i.prop(this,"height")(function(e){isNaN(parseInt(e))||(e+="px"),c.css(o,{height:e})}),i.propInteger(this,"resolution"),e=i.extend({visible:!0,resolution:1,width:320,height:240},e,this);var l=this,a=new Image;a.src="css/gfx/qbert.png",a.onload=function(){t.call(l,a)},a.onerror=function(){console.error("Unable to load image: ",a.src)}};o.exports=p,o.exports._=n});
//# sourceMappingURL=wdg.game1.js.map
require("webgl.fast-sprite",function(t,e,i){function r(t){this._opts=t,void 0===t&&a("Constructor's argument is mandatory!"),void 0===t.gl&&a("Constructor's argument `gl` is mandatory!");var e=t.gl;this._gl=e,void 0===t.atlas&&a("Constructor's argument `atlas` is mandatory!"),this.updateAtlas(t.atlas),this._nbAttributes=5,this._capacity=o,this._vertData=new Float32Array(4*o*this._nbAttributes),this._vertBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertBuff),e.bufferData(e.ARRAY_BUFFER,this._vertData,e.DYNAMIC_DRAW),this._elemData=new Uint16Array(6*o),this._elemBuff=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._elemBuff),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this._elemData,e.DYNAMIC_DRAW),this._references=new Uint16Array(o),this._quadsCount=0,this._ptrVert=0,this._ptrElem=0,this._idxVert=0,this.x=this.y=this.z=0,this.centerX=this.centerY=this.centerZ=0,this._prg=new _(e,{vert:n.vert,frag:n.frag})}function a(t){throw Error("[ToloFastSprite] "+t+"\nMore detail at https://github.com/tolokoban/tolo-fast-sprite")}var s=function(){function e(){return r(i,arguments)}var i={en:{},fr:{}},r=t("$").intl;return e.all=i,e}(),n={vert:"uniform float uniWidth;\nuniform float uniHeight;\nuniform float uniX;\nuniform float uniY;\nuniform float uniZ;\n\nattribute vec3 attPosition;\nattribute vec2 attUV;\nvarying vec2 varUV;\n\nvoid main() {\n  varUV = attUV;\n  \n  vec3 pos = attPosition - vec3( uniX, uniY, uniZ );\n  gl_Position = vec4( pos, 1.0 );\n\n  // Convert pixels to WebGL space coords.\n  gl_Position.x = 2.0 * gl_Position.x / uniWidth;\n  gl_Position.y = - 2.0 * gl_Position.y / uniHeight;\n}\n",frag:"precision lowp float;\n\nvarying vec2 varUV;\n\n// Textures.\nuniform sampler2D tex;\n\nvoid main() { \n  gl_FragColor = texture2D(tex, varUV);\n  if( gl_FragColor.a <= 1.0 / 255.0 ) discard;\n}\n"},_=t("webgl.program"),o=256;e.exports=r,r.prototype.updateCell=function(t,e,i){var r=this._opts,a=r.cellSrcW,s=r.cellSrcH,n=(r.cellDstW,r.cellDstH,this._nbAttributes),_=(this.z,this._vertData);_[t+3]=a*e,_[t+4]=s*i,t+=n,_[t+3]=a*(1+e),_[t+4]=s*i,t+=n,_[t+3]=a*(1+e),_[t+4]=s*(1+i),t+=n,_[t+3]=a*e,_[t+4]=s*(1+i)},r.prototype.updateXY=function(t,e,i,r,a,s,n,_,o){var h=this._nbAttributes,u=this.z||0,l=this._vertData;l[t+0]=e,l[t+1]=i,l[t+2]=u,t+=h,l[t+0]=r,l[t+1]=a,l[t+2]=u,t+=h,l[t+0]=s,l[t+1]=n,l[t+2]=u,t+=h,l[t+0]=_,l[t+1]=o,l[t+2]=u},r.prototype.clear=function(){this._quadsCount=0,this._ptrVert=0,this._ptrElem=0,this._idxVert=0},r.prototype.paint=function(t){var e=this._gl,i=this._prg,r=this._vertData,a=this._vertBuff,s=this._elemBuff,n=this._elemData;i.use(),i.$uniWidth=e.canvas.width,i.$uniHeight=e.canvas.height,i.$uniX=this.centerX,i.$uniY=this.centerY,i.$uniZ=this.centerZ,e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._texture),i.$tex=0,i.bindAttribs(a,"attPosition","attUV"),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferSubData(e.ARRAY_BUFFER,0,r),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,n),e.drawElements(e.TRIANGLES,this._ptrElem,e.UNSIGNED_SHORT,0)},r.prototype.add=function(t,e,i,r,a,s,n,_,o,h,u,l,E,f,v,D,c,p,R,T){this._quadsCount>=this._capacity&&console.warn("Dépassement de capacité !!");var d=this._nbAttributes,m=this._ptrVert,A=this._ptrElem,g=this._idxVert,U=m;return this._vertData[m+0]=t,this._vertData[m+1]=e,this._vertData[m+2]=i,this._vertData[m+3]=r,this._vertData[m+4]=a,m+=d,this._vertData[m+0]=s,this._vertData[m+1]=n,this._vertData[m+2]=_,this._vertData[m+3]=o,this._vertData[m+4]=h,m+=d,this._vertData[m+0]=u,this._vertData[m+1]=l,this._vertData[m+2]=E,this._vertData[m+3]=f,this._vertData[m+4]=v,m+=d,this._vertData[m+0]=D,this._vertData[m+1]=c,this._vertData[m+2]=p,this._vertData[m+3]=R,this._vertData[m+4]=T,m+=d,this._ptrVert=m,this._elemData[A+0]=g+0,this._elemData[A+1]=g+1,this._elemData[A+2]=g+2,this._elemData[A+3]=g+0,this._elemData[A+4]=g+2,this._elemData[A+5]=g+3,this._idxVert+=4,this._ptrElem+=6,this._quadsCount++,U},r.prototype.addCellXY=function(t,e,i,r){var a=this.z||0,s=this._opts,n=s.cellSrcW,_=s.cellSrcH,o=s.cellDstW,h=s.cellDstH;return this.add(t,e,a,n*i,_*r,t+o,e,a,n*(1+i),_*r,t+o,e+h,a,n*(1+i),_*(1+r),t,e+h,a,n*i,_*(1+r))},r.prototype.updateAtlas=function(t){var e=this._gl;if(!this._texture){var i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this._texture=i}e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)},e.exports._=s});
//# sourceMappingURL=webgl.fast-sprite.js.map
require("webgl.program",function(r,e,t){function n(r,e,t){if("string"!=typeof e.vert)throw Error("[webgl.program] Missing attribute `vert` in argument `codes`!");if("string"!=typeof e.frag)throw Error("[webgl.program] Missing attribute `frag` in argument `codes`!");e=a(e,t),this.gl=r,Object.freeze(this.gl),this._typesNamesLookup=m(r);var n=r.createProgram();r.attachShader(n,h(r,e.vert)),r.attachShader(n,f(r,e.frag)),r.linkProgram(n),this.program=n,Object.freeze(this.program),this.use=function(){r.useProgram(n)},this.use(),o(this,r,n),i(this,r,n)}function o(r,e,t){var n,o,i={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(n=0;n<a;n++)o=e.getActiveAttrib(t,n),o.typeName=r.getTypeName(o.type),o.length=g(e,o),o.location=e.getAttribLocation(t,o.name),console.info("item=",o),i[o.name]=o;r.attribs=i,Object.freeze(r.attribs)}function i(r,e,t){var n,o,i={},a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(n=0;n<a;n++)o=e.getActiveUniform(t,n),i[o.name]=e.getUniformLocation(t,o.name),Object.defineProperty(r,"$"+o.name,{set:s(e,o,i[o.name],r._typesNamesLookup),get:u(o),enumerable:!0,configurable:!1});r.uniforms=i,Object.freeze(r.uniforms)}function a(r,e){var t,n,o={};for(t in r)n=r[t],o[t]=n.split("\n").map(function(r){if("#include"!=r.trim().substr(0,8))return r;var t=r.indexOf("#include")+8,n=r.substr(t).trim();"'<\"".indexOf(n.charAt(0))>-1&&(n=n.substr(1,n.length-2));var o=e[n];if("string"!=typeof o)throw console.error("Include <"+n+"> not found in ",e),Error("Include not found in shader: "+n);return o}).join("\n");return o}function s(r,e,t,n){var o="_$"+e.name;switch(e.type){case r.BYTE:case r.UNSIGNED_BYTE:case r.SHORT:case r.UNSIGNED_SHORT:case r.INT:case r.UNSIGNED_INT:case r.SAMPLER_2D:return 1==e.size?function(e){r.uniform1i(t,e),this[o]=e}:function(e){r.uniform1iv(t,e),this[o]=e};case r.FLOAT:return 1==e.size?function(e){r.uniform1f(t,e),this[o]=e}:function(e){r.uniform1fv(t,e),this[o]=e};case r.FLOAT_MAT3:if(1==e.size)return function(e){r.uniformMatrix3fv(t,!1,e),this[o]=e};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT3 in uniform `"+e.name+"'!'");case r.FLOAT_MAT4:if(1==e.size)return function(e){r.uniformMatrix4fv(t,!1,e),this[o]=e};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT4 in uniform `"+e.name+"'!'");default:throw Error("[webgl.program.createWriter] Don't know how to deal with uniform `"+e.name+"` of type "+n[e.type]+"!")}}function u(r){var e="_$"+r.name;return function(){return this[e]}}function c(r,e,t){var n=e.createShader(r);return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(t),console.error("An error occurred compiling the shader: "+e.getShaderInfoLog(n)),null)}function f(r,e){return c(r.FRAGMENT_SHADER,r,e)}function h(r,e){return c(r.VERTEX_SHADER,r,e)}function m(r){var e,t,n={};for(e in r)"number"==typeof(t=r[e])&&(n[t]=e);return n}function g(r,e){switch(e.type){case r.FLOAT_VEC4:return 4;case r.FLOAT_VEC3:return 3;case r.FLOAT_VEC2:return 2;case r.FLOAT:return 1;default:throw"[webgl.program:getSize] I don't know the size of the attribute '"+e.name+"' because I don't know the type "+getTypeName(e.type)+"!"}}var l=function(){function e(){return n(t,arguments)}var t={en:{},fr:{}},n=r("$").intl;return e.all=t,e}();n.prototype.getTypeName=function(r){return this._typesNamesLookup[r]};var p=(new Float32Array).BYTES_PER_ELEMENT;n.prototype.bindAttribs=function(r){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,r);var t=Array.prototype.slice.call(arguments,1),n=0;t.forEach(function(r){var e=this.attribs[r];if(!e)throw'Cannot find attribute "'+r+'"!\nIt may be not active because unused in the shader.\nAvailable attributes are: '+Object.keys(this.attribs).map(function(r){return'"'+r+'"'}).join(", ");n+=e.size*e.length*p},this);var o=0;t.forEach(function(r){var t=this.attribs[r];e.enableVertexAttribArray(t.location),e.vertexAttribPointer(t.location,t.size*t.length,e.FLOAT,!1,n,o),o+=t.size*t.length*p},this)},e.exports=n,e.exports._=l});
//# sourceMappingURL=webgl.program.js.map
require("controls",function(n,r,e){function t(n){var r=n.key,e=i[r];return console.info("[controls] key=",r,e),e&&n.preventDefault(),e}var o=function(){function r(){return t(e,arguments)}var e={en:{},fr:{}},t=n("$").intl;return r.all=e,r}(),u={NE:0,SE:0,SW:0,NW:0,R:0,L:0,U:0,D:0},i={9:"NE",3:"SE",1:"SW",7:"NW",ArrowRight:"R",ArrowLeft:"L",ArrowUp:"U",ArrowDown:"D"},c=[];for(var f in u)c.push(f);c.forEach(function(n){Object.defineProperty(r.exports,n,{set:function(){},get:function(){return u[n]||0},enumerable:!0,configurable:!1})}),document.addEventListener("keydown",function(n){var r=t(n);r&&(u[r]=1)}),document.addEventListener("keyup",function(n){var r=t(n);r&&(u[r]=0)}),r.exports._=o});
//# sourceMappingURL=controls.js.map
require("wdg.game1.levels",function(e,t,o){function r(e){var t=n(h[e]);this._level=t;this._level.map;i(this,"hero",t.hero),i(this,"cols",t.map[0].length),i(this,"rows",t.map.length);t.hero[1],t.hero[0]}function n(e){e=l(e);var t,o=e.map[0];for(t=0;t<o.length&&" "==o.charAt(t);t++);if(t%2==1&&(e.map=e.map.map(function(e){return" "+e}),e.hero.col++),e.map.length%2==1){for(o="",t=0;t<e.map[0].length;t++)o+=" ";e.map.push(o)}return e.map=e.map.map(function(e){for(var t=[],o=0;o<e.length;o++)t.push(e.charAt(o));return t}),e}function l(e){return JSON.parse(JSON.stringify(e))}function i(e,t,o){return Object.defineProperty(e,t,{value:o,writable:!1,configurable:!1,enumerable:!0})}var a=function(){function t(){return r(o,arguments)}var o={en:{},fr:{}},r=e("$").intl;return t.all=o,t}(),h={qbert1:{map:["      1      ","     1 1     ","    1 2 1    ","   1 2 2 1   ","  1 2 0 2 1  "," 1 2 2 2 2 1 ","1 1 1 1 1 1 1"],tr:[2,0,1],hero:{row:4,col:6}}};r.prototype.moveNE=function(){var e=this._level.hero;e.col++,e.row--},r.prototype.moveNW=function(){var e=this._level.hero;e.col--,e.row--},r.prototype.moveSE=function(){var e=this._level.hero;e.col++,e.row++},r.prototype.moveSW=function(){var e=this._level.hero;e.col--,e.row++},r.prototype.canMoveNE=function(){var e=this._level.hero,t=e.col,o=e.row;return!(this.getValue(t+1,o-1)<0)},r.prototype.canMoveNW=function(){var e=this._level.hero,t=e.col,o=e.row;return!(this.getValue(t-1,o-1)<0)},r.prototype.canMoveSE=function(){var e=this._level.hero,t=e.col,o=e.row;return!(this.getValue(t+1,o+1)<0)},r.prototype.canMoveSW=function(){var e=this._level.hero,t=e.col,o=e.row;return!(this.getValue(t-1,o+1)<0)},r.prototype.getValue=function(e,t){return t<0||t>=this.rows||e<0||e>=this.cols?-1:"012".indexOf(this._level.map[t][e])},r.prototype.transform=function(e,t){var o=this.getValue(e,t);if(o<0)return-1;var r=this._level.tr[o];return console.log("("+e+","+t+"): ",o,"->",r),console.log(JSON.stringify(this._level.map[t])),this._level.map[t][e]=""+r,console.log(JSON.stringify(this._level.map[t])),r},t.exports=function(e){return h[e]?new r(e):(console.error("Level `"+e+"` doe not exist!"),null)},t.exports._=a});
//# sourceMappingURL=wdg.game1.levels.js.map
require("webgl.resize",function(n,t,e){var i=function(){function t(){return i(e,arguments)}var e={en:{},fr:{}},i=n("$").intl;return t.all=e,t}();t.exports=function(n,t){"number"!=typeof t&&(t=window.devicePixelRatio);var e=Math.floor(n.canvas.clientWidth*t),i=Math.floor(n.canvas.clientHeight*t);n.canvas.width===e&&n.canvas.height===i||(n.canvas.width=e,n.canvas.height=i,n.viewport(0,0,e,i))},t.exports._=i});
//# sourceMappingURL=webgl.resize.js.map
require("tfw.data-binding",function(n,t,e){function r(n,t,r,o){var i="function"==typeof o;void 0===t[c]&&(t[c]={}),t[c][r]={value:o,event:new l};var u;u="function"==typeof n?function(e){e=n(e),(i||t[c][r].value!==e)&&(t[c][r].value=e,t[c][r].event.fire(e,t,r))}:function(n){(i||t[c][r].value!==n)&&(t[c][r].value=n,t[c][r].event.fire(n,t,r))};var a=o;return i||(a=function(){return t[c][r].value}),Object.defineProperty(t,r,{get:a,set:u,configurable:!1,enumerable:!0}),e.bind.bind(e,t,r)}function o(n){return n.toLowerCase()}function i(n){return n.trim()}var u=function(){function t(){return r(e,arguments)}var e={en:{}},r=n("$").intl;return t.all=e,t}();n("polyfill.string");var a=n("dom"),f=n("tfw.css").parseUnit,l=n("tfw.listeners"),c="_tfw.data-binding_",s={castFunction:function(n){return"function"!=typeof n?null:n},castArray:function(n){return Array.isArray(n)?n:null===n||void 0===n?[]:[n]},castBoolean:function(n){return"boolean"==typeof n?n:"string"==typeof n?"0"!=(n=n.trim().toLowerCase())&&"false"!=n&&"no"!=n&&"null"!=n&&"undefined"!=n:"number"==typeof n?0!==n:null},castColor:function(n){return""+n},castDate:function(n){return"number"==typeof n||"string"==typeof n?new Date(n):n instanceof Date?n:new Date},castEnum:function(n){var t=n.map(o);return function(e){if("number"==typeof e)return n[Math.floor(e)%n.length];if("string"!=typeof e)return n[0];var r=t.indexOf(e.trim().toLowerCase());return r<0&&(r=0),n[r]}},castInteger:function(n){return"number"==typeof n?Math.floor(n):"boolean"==typeof n?n?1:0:"string"==typeof n?parseInt(n):Number.NaN},castFloat:function(n){return"number"==typeof n?n:"boolean"==typeof n?n?1:0:"string"==typeof n?parseFloat(n):Number.NaN},castRegexp:function(n){if(n instanceof RegExp)return n;if("string"==typeof n&&0!=n.trim().length)try{return new RegExp(n)}catch(t){console.error("[castRegexp] /"+n+"/ ",t)}return null},castString:function(n){return"string"==typeof n?n:void 0===n||null===n?"":JSON.stringify(n)},castStringArray:function(n){return Array.isArray(n)?n:null===n||void 0===n?[]:"string"==typeof n?n.split(",").map(i):[JSON.stringify(n)]},castUnit:function(n){return n?void 0!==n.v?(n.v=parseFloat(n.v),isNaN(n.v)?{v:0,u:"px"}:("string"!=typeof n.u?n.u="px":n.u=n.u.trim().toLowerCase(),""===n.u&&(n.u="px"),{v:n.v,u:n.u})):"number"==typeof n?{v:n,u:"px"}:"string"!=typeof n?{v:0,u:"px"}:f(""+n):{v:0,u:"px"}},castValidator:function(n){if("function"==typeof n)return n;if("boolean"==typeof n)return function(){return n};if("string"==typeof n&&0!=n.trim().length)try{var t=new RegExp(n);return t.test.bind(t)}catch(t){console.error("[castValidator] /"+n+"/ ",t)}return function(){return null}}};e.fire=function(n,t,e){var r=n[t];void 0===e&&(e=r),n[c][t].value=e,n[c][t].event.fire(n[t],n,t)},e.set=function(n,t,e){void 0===n[c]&&(n[c]={}),void 0===n[c][t]&&(n[c][t]={}),n[c][t].value=e},e.get=function(n,t){if(void 0!==n[c]&&void 0!==n[c][t])return n[c][t].value},e.readOnly=function(n,t,e){"function"==typeof att?Object.defineProperty(n,t,{get:e,set:function(){},configurable:!1,enumerable:!0}):Object.defineProperty(n,t,{value:e,writtable:!1,configurable:!1,enumerable:!0})},e.prop=r.bind(null,null),e.propToggleClass=function(n,t,e,o){"string"!=typeof o&&(o="");var i={};return"string"==typeof e?i[e]=e:Array.isArray(e)?e.forEach(function(n){i[n]=n}):i=e,r(null,n,t)(function(t){var e,r;for(e in i)r=i[e],e==t?a.addClass(n.element,o+r):a.removeClass(n.element,o+r)})},e.propAddClass=function(n,t,e){return void 0===e&&(e=t),r(s.castBoolean,n,t)(function(t){t?a.addClass(n.element,e):a.removeClass(n.element,e)})},e.propRemoveClass=function(n,t,e){return void 0===e&&(e=t),r(s.castBoolean,n,t)(function(t){t?a.removeClass(n.element,e):a.addClass(n.element,e)})},e.propArray=r.bind(null,s.castArray),e.propBoolean=r.bind(null,s.castBoolean),e.propColor=r.bind(null,s.castColor),e.propDate=r.bind(null,s.castDate),e.propEnum=function(n){return r.bind(null,s.castEnum(n))},e.propFunction=r.bind(null,s.castFunction),e.propInteger=r.bind(null,s.castInteger),e.propFloat=r.bind(null,s.castFloat),e.propRegexp=r.bind(null,s.castRegexp),e.propString=r.bind(null,s.castString),e.propStringArray=r.bind(null,s.castStringArray),e.propUnit=r.bind(null,s.castUnit),e.propValidator=r.bind(null,s.castValidator),e.bind=function(n,t,e,r,o){if(void 0===n[c]||void 0===n[c][t])throw console.error(JSON.stringify(t)+" is not a bindable property!",{srcObj:n,srcAtt:t,dstObj:e,dstAtt:r,options:o}),Error(JSON.stringify(t)+" is not a bindable property!");void 0===o&&(o={}),o.value&&(o.converter=function(){return o.value});var i="function"==typeof e?e:function(n,t,i){e[r]="function"==typeof o.converter?o.converter(n):n};return n[c][t].event.add(i),o},e.extend=function(n,t,r,o){var i,u,a=JSON.parse(JSON.stringify(n));for(i in t)"$"!=i.charAt(0)&&(u=t[i],void 0===a[i]?console.error("[tfw.data-binding.extend] Undefined argument: `"+i+"`!"):a[i]=u);if(void 0!==r){for(i in t)"$"==i.charAt(0)&&Object.defineProperty(r,i,{value:t[i],writable:!1,configurable:!1,enumerable:!1});for(i in a)"$"!=i.charAt(0)&&(r[i]=a[i]);if("function"==typeof o){for(i in r[c])e.bind(r,i,o);o()}}return a},e.converters=s,t.exports._=u});
//# sourceMappingURL=tfw.data-binding.js.map
require("tfw.listeners",function(t,i,r){var n=function(){function i(){return n(r,arguments)}var r={en:{}},n=t("$").intl;return i.all=r,i}(),e=function(){this._list=[]};e.prototype.add=function(t,i){if("function"!=typeof t)return!1;this.remove(t);for(var r=0;r<this._list.length;r++)if(t===this._list[r])return!1;return this._list.push([t,i]),!0},e.prototype.remove=function(t,i){if("function"!=typeof t)return!1;for(var r=0;r<this._list.length;r++){var n=this._list[r];if(t===n[0]&&i===n[1])return this._list.splice(r,1),!0}return!1},e.prototype.clear=function(){this._list=[]},e.prototype.fire=function(){var t,i,r,n,e=[].slice.call(arguments);for(t=0;t<this._list.length;t++)if(n=this._list[t],i=n[0],r=n[1],!1===i.apply(r,e))return!1;return!0},i.exports=e,i.exports._=n});
//# sourceMappingURL=tfw.listeners.js.map
require("tfw.css",function(e,r,t){var i=function(){function r(){return i(t,arguments)}var t={en:{}},i=e("$").intl;return r.all=t,r}();t.parseUnit=function(e){for(var r,t=0,i=0;i<e.length;i++)if(r=e.charAt(i),0===t){if("-"==r||"+"==r||r>="0"&&r<="9")t=1;else if("."==r)t=2;else if(r>" ")break}else if(1==t){if("."==r)t=2;else if(r<"0"||r>"9")break}else if(2==t&&(r<"0"||r>"9"))break;var n={v:parseFloat(e.substr(0,i)),u:e.substr(i).trim().toLowerCase()};return""===n.u&&(n.u="px"),n},r.exports._=i});
//# sourceMappingURL=tfw.css.js.map
require("dom",function(e,t,r){function n(e,t,r){return Object.defineProperty(e,"element",{value:t,writable:!1,configurable:!1,enumerable:!0}),r?e:(e.on=u.bind(e,t),e.css=i.bind(e,t),e.add=l.bind(e,t),e.att=s.bind(e,t),e.addClass=d.bind(e,t),e.hasClass=v.bind(e,t),e.removeClass=m.bind(e,t),e.toggleClass=y.bind(e,t),e)}function o(e,t){return e=L(e),t=L(t),t.parentNode.replaceChild(e,t),e}function i(e,t){e=L(e);var r,n;for(r in t)n=t[r],e.style[r]=n;return e}function s(e,t,r){e=L(e);var n,o;"string"==typeof t&&(n=t,t={},t[n]=r);for(n in t)o=t[n],e.setAttribute(n,o);return e}function a(e,t){return e=L(e),e.removeAttribute(t),e}function l(e){e=L(e);try{var t,r;for(t=1;t<arguments.length;t++){if("string"==typeof(r=arguments[t])||"number"==typeof r)if(r=""+r,"<html>"==r.substr(0,6)){var n=r.substr(6);r=L.tag("span"),r.innerHTML=n}else if(N.test(r)){var o=r;r=L.tag("span"),r.innerHTML=o}else r=document.createTextNode(r);else"function"==typeof r.element?r=r.element():void 0!==r.element&&(r=r.element);e.appendChild(r)}return e}catch(e){throw console.error("[DOM.add] arguments=",[].slice.call(arguments)),Error("[DOM.add] "+e)}}function c(e){if(Array.isArray(e))return e.forEach(function(e){c(e)}),e;if(void 0===e[S])return e;var t=e[S].events;if(void 0===t)return e;t.off(),delete e[S].events}function u(e,t){if("function"!=typeof t&&null!==t||(t={tap:t}),Array.isArray(e))return e.forEach(function(e){u(e,t)}),e;e=L(e),void 0===e[S]&&(e[S]={}),void 0===e[S].events&&(e[S].events=new x(e));var r,n,o;for(r in t)n=t[r],"!"==r.charAt(0)?(r=r.substr(1),o=!0):o=!1,"keydown"==r||"keyup"==r?e.addEventListener(r,n,o):e[S].events.on(r,n,o);return e}function f(e,t){try{var r,n,o,i,s=document.createElementNS(e,t);for(r=2;r<arguments.length;r++)if(n=arguments[r],Array.isArray(n))n.forEach(function(e){switch(typeof e){case"string":case"number":case"boolean":if(e=""+e,"<html>"==e.substr(0,6)){var t=e.substr(6);e=L.tag("span"),e.innerHTML=t}else e=document.createTextNode(e)}l(s,e)});else switch(typeof n){case"string":n.split(" ").forEach(function(e){e.length>0&&d(s,e)});break;case"object":for(o in n)i=n[o],s.setAttribute(o,i);break;default:throw Error("[dom.tag] Error creating <"+t+">: Invalid argument #"+r+"!")}return s}catch(r){console.error("[dom.tagNS] Error with `ns` = ",e," and `name` = ",t),console.error(r)}}function d(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,d.apply(void 0,t)}),e):(e=L(e),t.forEach(function(t){if("string"==typeof t&&(t=t.trim(),0!=t.length))try{e.classList&&e.classList.add(t)}catch(e){console.error("[dom.addClass] Invalid class name: ",t),console.error(e)}}),e)}function v(e,t){return e=L(e),!!e.classList&&e.classList.contains(t)}function m(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,m.apply(void 0,t)}),e):(e=L(e),t.forEach(function(t){if("string"==typeof t)try{e.classList&&e.classList.remove(t)}catch(e){console.error("[dom.removeClass] Invalid class name: ",t),console.error(e)}}),e)}function y(e){return[].slice.call(arguments,1).forEach(function(t){v(e,t)?m(e,t):d(e,t)}),e}function h(e){e=L(e);for(var t=e;t.firstChild;)t.removeChild(t.firstChild);var r=[].slice.call(arguments);return r.length>1&&l.apply(this,r),e}function p(e,t){return e=L(e),void 0===t&&(t=e,e=window.document),e.querySelector(t)}function g(e){e=L(e);var t=e.parentElement;return t?(t.removeChild(e),t):t}function w(e){var t=[].slice.call(arguments);t.shift(),0==t.length&&(t=["div"]),t.push("dom","custom");var r;return void 0!==t[0].element?(r=t[0].element,d(r,"dom","custom")):"function"==typeof t[0].appendChild?(r=t[0],d(r,"dom","custom")):r=L.tag.apply(L,t),Object.defineProperty(e,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),r}function b(e,t){return void 0===t&&(t=""),null===t&&(t=""),"string"!=typeof t&&(t=JSON.stringify(t)),"<html>"==t.substr(0,6)?e.innerHTML=t.substr(6):e.textContent=t,e}function A(e){if(!Array.isArray(e))return A(Array.prototype.slice.call(arguments));e.forEach(function(e){e=L(e),void 0===e[S]&&(e[S]={}),Array.isArray(e[S].style)||(e[S].style=[]),e[S].style.push(JSON.stringify(e.style))})}function E(e){if(!Array.isArray(e))return E(Array.prototype.slice.call(arguments));e.forEach(function(e){if(e=L(e),void 0===e[S]||!Array.isArray(e[S].style))throw Error("[dom.restoreStyle] `saveStyle()` has never been used on this element!");if(0==e[S].style.length)throw Error("[dom.restoreStyle] more `restore` than `save`!");var t,r,n=JSON.parse(e[S].style.pop());for(t in n)void 0!==(r=n[t])&&(e.style[t]=r)})}var C=function(){function t(){return n(r,arguments)}var r={en:{}},n=e("$").intl;return t.all=r,t}();e("polyfill.classList");var x=e("tfw.pointer-events"),L=function(e){if("string"==typeof e){var t=document.getElementById(e);return t||console.error("[dom] There is no DOM element with this ID: `"+e+"`"),t}if(!e)throw Error("`dom` is not a valid element!",e);return"function"==typeof e.element?e.element():e.element?e.element:e};t.exports=L;var S="@dom"+Date.now(),N=/^&(#[0-9]+|[a-zA-Z0-9]+);$/;L.tagNS=f,L.svgRoot=f.bind(void 0,"http://www.w3.org/2000/svg","svg",{version:"1.1","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),L.svg=f.bind(void 0,"http://www.w3.org/2000/svg"),L.tag=f.bind(void 0,"http://www.w3.org/1999/xhtml"),L.div=f.bind(void 0,"http://www.w3.org/1999/xhtml","div"),L.txt=window.document.createTextNode.bind(window.document),L.textOrHtml=b,L.get=p,L.elem=w,L.css=i,L.att=s,L.removeAtt=a,L.addClass=d,L.hasClass=v,L.removeClass=m,L.toggleClass=y,L.saveStyle=A,L.restoreStyle=E,L.replace=o,L.detach=g,L.on=u,L.off=c,L.add=l,L.wrap=n,L.clear=h,t.exports._=C});
//# sourceMappingURL=dom.js.map
require("tfw.pointer-events",function(t,e,o){function n(t){var e=this;this._slots={},this._eventListeners=[],Object.defineProperty(n.prototype,"element",{value:t,writable:!1,configurable:!0,enumerable:!0}),a.call(e,t,"touchstart",function(o){o.preventDefault(),i.touchDevice||(i.touchDevice=!0,document.body.removeEventListener("mousedown",p,!0),document.body.removeEventListener("mousemove",l,!0),document.body.removeEventListener("mouseup",u,!0));var n=e._slots;1==o.touches.length&&(i.rect=t.getBoundingClientRect(),i.bodyMoveX=o.touches[0].clientX,i.bodyMoveY=o.touches[0].clientY,i.bodyDownX=o.touches[0].clientX,i.bodyDownY=o.touches[0].clientY,i.targetX=o.touches[0].clientX-i.rect.left,i.targetY=o.touches[0].clientY-i.rect.top,i.time=Date.now(),n.down&&n.down({action:"down",button:i.bodyButton,target:t,x:i.targetX,y:i.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)}))}),a.call(e,t,"touchmove",function(o){o.preventDefault();var n=i.bodyMoveX,a=i.bodyMoveY;i.bodyMoveX=o.touches[0].clientX,i.bodyMoveY=o.touches[0].clientY;var r=e._slots;r.drag&&r.drag({action:"drag",target:t,x0:i.targetX,y0:i.targetY,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,dx:i.bodyMoveX-i.bodyDownX,dy:i.bodyMoveY-i.bodyDownY,vx:i.bodyMoveX-n,vy:i.bodyMoveY-a,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}),a.call(e,t,"touchend",function(t){t.preventDefault();var o=e._slots,n=i.bodyMoveX-i.bodyDownX,a=i.bodyMoveY-i.bodyDownY;if(o.up&&o.up({action:"up",target:e.element,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,dx:n,dy:a,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}),n*n+a*a<256){var r=Date.now();i.lastTapTime>0&&(o.doubletap&&r-i.lastTapTime<400?o.doubletap({action:"doubletap",target:i.bodyTarget,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}):i.lastTapTime=0),o.tap&&0==i.lastTapTime&&(t.stopPropagation(),t.preventDefault(),o.tap({action:"tap",target:i.bodyTarget,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)})),i.lastTapTime=r}}),a.call(e,t,"mousedown",function(o){if(!i.touchDevice){var n=e._slots,a=t.getBoundingClientRect();i.target=e,i.targetX=o.clientX-a.left,i.targetY=o.clientY-a.top,n.down&&n.down({action:"down",button:i.bodyButton,target:i.bodyTarget,x:i.targetX,y:i.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}}),a.call(e,t,"mousemove",function(o){var n=e._slots;if(n.move){var a=t.getBoundingClientRect();o.target.getBoundingClientRect();n.move({target:t,action:"move",x:o.clientX-a.left,y:o.clientY-a.top})}}),Object.defineProperty(this,"element",{value:t,writable:!0,configurable:!0,enumerable:!0})}function a(t,e,o,n){t.addEventListener(e,o,n),this._eventListeners.push([t,e,o,n])}var r=function(){function e(){return n(o,arguments)}var o={en:{}},n=t("$").intl;return e.all=o,e}(),d="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",i={touchDevice:!1,target:null,targetX:0,targetY:0,bodyDownX:0,bodyDownY:0,bodyMoveX:-1,bodyMoveY:-1,bodyMoveLastX:-1,bodyMoveLastY:-1,onDrag:null,lastTapTime:0},p=function(t){i.touchDevice||(i.bodyDownX=t.pageX,i.bodyDownY=t.pageY,i.bodyMoveX=t.pageX,i.bodyMoveY=t.pageY,i.bodyMoveLastX=t.pageX,i.bodyMoveLastY=t.pageY,i.bodyTarget=t.target,i.bodyButton=t.button)},l=function(t){if(!i.touchDevice&&i.target&&(t.stopPropagation(),t.preventDefault(),i.bodyMoveLastX=i.bodyMoveX,i.bodyMoveLastY=i.bodyMoveY,i.bodyMoveX=t.pageX,i.bodyMoveY=t.pageY,i.target)){var e=i.target._slots;"function"==typeof e.drag&&e.drag({action:"drag",target:i.target.element,x0:i.targetX,y0:i.targetY,x:i.targetX+i.bodyMoveX-i.bodyDownX,y:i.targetY+i.bodyMoveY-i.bodyDownY,dx:i.bodyMoveX-i.bodyDownX,dy:i.bodyMoveY-i.bodyDownY,vx:i.bodyMoveX-i.bodyMoveLastX,vy:i.bodyMoveY-i.bodyMoveLastY,button:i.bodyButton})}},u=function(t){if(!i.touchDevice&&i.target){t.stopPropagation(),t.preventDefault();var e=Date.now(),o=i.target._slots,n=t.pageX-i.bodyDownX,a=t.pageY-i.bodyDownY;o.up&&o.up({action:"up",target:i.bodyTarget,x:i.targetX+n,y:i.targetY+a,dx:n,dy:a,button:i.bodyButton,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}),n*n+a*a<1024&&(i.lastTapTime>0&&(o.doubletap&&e-i.lastTapTime<400?o.doubletap({action:"doubletap",target:i.bodyTarget,x:i.targetX+n,y:i.targetY+a}):i.lastTapTime=0),o.tap&&0==i.lastTapTime&&o.tap({action:"tap",target:i.bodyTarget,x:i.targetX+n,y:i.targetY+a}),i.lastTapTime=e),delete i.target}};document.body.addEventListener("mousedown",p,!0),document.body.addEventListener("mousemove",l,!0),document.body.addEventListener("mouseup",u,!0),n.prototype.on=function(t,e){var o=this,n=this._slots;return"function"==typeof e&&(n[t]=e),"wheel"==t&&a.call(o,this.element,d,function(t){var e=o.element.getBoundingClientRect();n.wheel({target:i.bodyTarget,action:"wheel",delta:t.deltaY,x:t.clientX-e.left,y:t.clientY-e.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)})}),this},n.prototype.off=function(){this._eventListeners.forEach(function(t){var e=t[0],o=t[1],n=t[2],a=t[3];e.removeEventListener(o,n,a)})},e.exports=n,e.exports._=r});
//# sourceMappingURL=tfw.pointer-events.js.map
require("polyfill.classList",function(t,e,n){var i=function(){function e(){return i(n,arguments)}var n={en:{}},i=t("$").intl;return e.all=n,e}();"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e=t.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},o=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],s=0,r=n.length;s<r;s++)this.push(n[s]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},a=c.prototype=[],l=function(){return new c(this)};if(r.prototype=Error.prototype,a.item=function(t){return this[t]||null},a.contains=function(t){return t+="",-1!==o(this,t)},a.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do{t=e[n]+"",-1===o(this,t)&&(this.push(t),s=!0)}while(++n<i);s&&this._updateClassName()},a.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do{for(t=n[i]+"",e=o(this,t);-1!==e;)this.splice(e,1),r=!0,e=o(this,t)}while(++i<s);r&&this._updateClassName()},a.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},a.toString=function(){return this.join(" ")},n.defineProperty){var u={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(e,"classList",u))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self)),e.exports._=i});
//# sourceMappingURL=polyfill.classList.js.map
require("polyfill.string",function(r,t,n){var e=function(){function t(){return e(n,arguments)}var n={en:{}},e=r("$").intl;return t.all=n,t}();"function"!=typeof String.toLowerCase&&(String.toLowerCase=function(r){return r.toLowerCase()},String.toUpperCase=function(r){return r.toUpperCase()},String.trim=function(r){return r.trim()}),t.exports._=e});
//# sourceMappingURL=polyfill.string.js.map
require("gfx",function(n,r,t){var e=function(){function r(){return e(t,arguments)}var t={en:{},fr:{}},e=n("$").intl;return r.all=t,r}();r.exports._=e});
//# sourceMappingURL=gfx.js.map
require("x-widget",function(e,t,r){function n(t,r,n,i){void 0===i&&(i={});try{var d=e(r),c=new d(n),u="function"==typeof c.element?c.element():c.element,f=document.getElementById(t);return f&&f.parentNode.replaceChild(u,f),u.setAttribute("id",t),a.addClass(u,i.class||""),o(t,c),c}catch(e){throw console.error("[x-widget] Unable to create widget `"+r+"`!"),console.error("[x-widget] id = ",t,", args = ",n),Error(e)}}function i(e){var t,r=a.tag(e.elem);e.attr&&(a.att(r,e.attr),t=e.attr.id),Array.isArray(e.children)&&e.children.forEach(function(e){a.add(r,e)});var n,i,d={};if(e.prop)for(n in e.prop)i=e.prop[n],Object.defineProperty(d,n,{value:i,writable:!1,configurable:!1,enumerable:!0});return Object.defineProperty(d,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),void 0!==t&&o(t,d),d}function o(e,t){u[e]=t;var r=f[e];return void 0!==r&&window.setTimeout(function(){r.forEach(function(e){e(t)}),delete f[e]}),"function"==typeof t.element?t.element:t.element||t}var d=function(){function t(){return n(r,arguments)}var r={en:{}},n=e("$").intl;return t.all=r,t}(),a=e("dom"),c=e("tfw.data-binding"),u={},f={},l=function(e,t,r,o){return"string"==typeof e?n.call(this,e,t,r,o):i.call(this,e)};l.template=function(t){var r,n,i,d="",a={};for(r in t)n=t[r],"name"==r?d=n:"id"==r?i=n:"$"==r.charAt(0)&&(a[r.substr(1)]=n);var c=e(d),u=new c(a);return i&&o(i,u),"function"==typeof u.element?u.element():u.element||u},l.getById=function(e){if(!u[e])throw Error("[x-widget.getById()] ID not found: "+e+"!");return u[e]},l.onWidgetCreation=function(e,t){void 0===u[e]?void 0===f[e]?f[e]=[t]:f[e].push(t):window.setTimeout(function(){t(u[e])})},l.bind=function(t,r){var n,i,o,d,a,f=u[t];for(n in r)d=r[n].B,Array.isArray(d)&&d.forEach(function(e){if(void 0===(i=u[e[0]]))return void console.error("[x-widget:bind("+t+')] Trying to bind attribute "'+n+'" of widget "'+t+'" to the unexisting widget "'+e[0]+'"!');o=e[1];try{if(2==e.length)c.bind(i,o,f,n);else{var r=e[2];c.bind(i,o,function(){f[n]=r})}}catch(r){console.error("Binding error for widget `"+t+"`!",{ex:r,binding:e})}}),a=r[n].S,Array.isArray(a)&&a.forEach(function(r){var i=APP,o=r;if(Array.isArray(r)){try{i=e(r[0])}catch(e){throw console.error("[x-widget:bind] Widget `"+t+"` can't require unexistent `"+r[0]+"`: ",e),e}o=r[1]}if("function"!=typeof(o=i[o]))throw Array.isArray(r)?Error("[x-widget:bind]  Widget `"+t+"` use unexisting slot `"+r[1]+"` of module `"+r[0]+"`!"):Error("[x-widget:bind]  Widget `"+t+"` use unexisting slot `"+r+"` of main module `APP`!");try{c.bind(f,n,o)}catch(e){console.error("Binding error for widget `"+t+"`!",{ex:e,dstObj:f,dstAtt:n,fct:o,slot:r})}})},t.exports=l,t.exports._=d});
//# sourceMappingURL=x-widget.js.map
require("main",function(e,n,r){var o=function(){function n(){return o(r,arguments)}var r={en:{welcome:"Welcome in the world of"},fr:{welcome:"Bienvenue dans le monde de"}},o=e("$").intl;return n.all=r,n}();n.exports._=o});
//# sourceMappingURL=main.js.map
